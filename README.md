\# \*\*my-article-app: نظام إدارة المقالات والمؤلفين (Go, Fiber, GORM)\*\*

\`my-article-app\` هو تطبيق ويب متكامل ومصمم بلغة Go، يوفر واجهة برمجة تطبيقات (API) من نوع RESTful لإدارة المقالات والمؤلفين المرتبطين بها. تم بناء التطبيق باستخدام إطار العمل Fiber عالي الأداء ومكتبة GORM للتفاعل السلس مع قواعد بيانات PostgreSQL، مع اتباع هيكلية نظيفة وقابلة للتطوير (Clean Architecture).

يهدف هذا المشروع إلى تقديم مثال عملي على بناء تطبيقات Go حديثة وقوية، مع التركيز على أفضل الممارسات في هندسة البرمجيات، مما يجعله إضافة قيمة 


\#\# ✨ \*\*الميزات الرئيسية\*\*

\* \*\*إدارة شاملة للمقالات (Articles):\*\*  
    \* إنشاء مقالات جديدة مع ربطها بمؤلف.  
    \* قراءة جميع المقالات أو مقال محدد (مع بيانات المؤلف).  
    \* تحديث بيانات المقالات القائمة.  
    \* حذف المقالات.  
\* \*\*إدارة شاملة للمؤلفين (Authors):\*\*  
    \* إنشاء مؤلفين جدد.  
    \* قراءة جميع المؤلفين أو مؤلف محدد (مع قائمة مقالاته).  
    \* تحديث بيانات المؤلفين.  
    \* حذف المؤلفين (مع مراعاة المقالات المرتبطة إذا لزم الأمر).  
\* \*\*علاقات بيانات قوية (Data Relationships):\*\*  
    \* تطبيق علاقة "واحد إلى متعدد" (One-to-Many) بين المؤلفين والمقالات.  
    \* تحميل مسبق (Preloading) للبيانات المرتبطة لتقليل استعلامات قاعدة البيانات وتحسين الأداء.  
\* \*\*التحقق من صحة البيانات (Input Validation):\*\*  
    \* استخدام مكتبة \`go-playground/validator\` لضمان سلامة البيانات المُدخلة قبل معالجتها.  
\* \*\*هيكلية تطبيق نظيفة (Clean Architecture):\*\*  
    \* \*\*Handlers:\*\* مسؤولة عن معالجة طلبات واستجابات HTTP.  
    \* \*\*Use Cases:\*\* تحتوي على منطق العمل الأساسي (Business Logic) للتطبيق.  
    \* \*\*Repositories:\*\* طبقة تجريدية للوصول إلى البيانات والتفاعل مع قاعدة البيانات.  
    \* \*\*Models:\*\* تمثل هياكل البيانات وتعريفات الجداول.  
\* \*\*سهولة الإعداد والتشغيل:\*\*  
    \* استخدام Docker و Docker Compose لتشغيل قاعدة بيانات PostgreSQL في بيئة معزولة ومتناسقة.

\#\# 🛠️ \*\*التقنيات المستخدمة\*\*

\* \*\*لغة البرمجة:\*\* Go (Golang) \- الإصدار 1.18 أو أحدث.  
\* \*\*إطار عمل الويب:\*\* Fiber v2 \- إطار عمل سريع ومرن مستوحى من Express.js.  
\* \*\*ORM (Object-Relational Mapping):\*\* GORM \- مكتبة ORM قوية وسهلة الاستخدام لـ Go.  
\* \*\*قاعدة البيانات:\*\* PostgreSQL \- نظام إدارة قواعد بيانات علائقية مفتوح المصدر.  
\* \*\*التحقق من صحة البيانات:\*\* \`go-playground/validator\` v10.  
\* \*\*الحاويات (Containerization):\*\* Docker & Docker Compose \- لتسهيل عملية التطوير والنشر.

\#\# 🏛️ \*\*هيكلية المشروع\*\*

يتبع المشروع هيكلية طبقية تهدف إلى فصل الاهتمامات (Separation of Concerns) وتسهيل الصيانة والتطوير المستقبلي:

my-article-app/  
├── cmd/api/ \# نقطة الدخول الرئيسية للتطبيق وإعداداته  
│ └── main.go  
├── internal/ \# الكود الداخلي للتطبيق (غير قابل للاستيراد من الخارج)  
│ ├── database/ \# إعداد الاتصال بقاعدة البيانات وتهيئة GORM  
│ │ └── gorm.go  
│ ├── handlers/ \# معالجات طلبات HTTP (تستخدم Fiber)  
│ │ ├── article\_handler.go  
│ │ └── author\_handler.go  
│ ├── models/ \# تعريف هياكل البيانات (GORM Structs) والعلاقات بينها  
│ │ ├── article.go  
│ │ └── author.go  
│ ├── repository/ \# طبقة الوصول للبيانات (تتفاعل مباشرة مع GORM)  
│ │ ├── article\_repository.go  
│ │ └── author\_repository.go  
│ └── usecase/ \# طبقة منطق العمل (Business Logic Layer)  
│ ├── article\_usecase.go  
│ └── author\_usecase.go  
├── .gitignore \# الملفات والمجلدات التي يتم تجاهلها بواسطة Git  
├── go.mod \# تعريف الوحدة (Module) والتبعيات  
├── go.sum \# المجموع الاختباري للتبعيات  
├── README.md \# هذا الملف (التوثيق الرئيسي للمشروع)  
└── docker-compose.yml \# (مُضمَّن) ملف لإعداد Docker Compose لقاعدة البيانات  
\*\*نظرة عامة على تدفق الطلب (Request Flow Overview):\*\*

1\.  يصل طلب HTTP إلى خادم Fiber.  
2\.  يقوم Fiber بتوجيه الطلب إلى الـ \`Handler\` المناسب بناءً على المسار.  
3\.  يقوم الـ \`Handler\` بتحليل الطلب، والتحقق من صحة المدخلات (إذا لزم الأمر).  
4\.  يستدعي الـ \`Handler\` الـ \`UseCase\` المناسب لتنفيذ منطق العمل.  
5\.  يقوم الـ \`UseCase\` بتنسيق العمليات، وقد يستدعي \`Repository\` واحدًا أو أكثر.  
6\.  يقوم الـ \`Repository\` بتنفيذ عمليات قاعدة البيانات باستخدام GORM.  
7\.  تعود النتائج عبر الطبقات إلى الـ \`Handler\`، الذي يقوم بإرسال استجابة HTTP للعميل.

\#\# 🚀 \*\*متطلبات التشغيل والإعداد\*\*

لتشغيل هذا المشروع على جهازك المحلي، ستحتاج إلى:

\* \*\*Go:\*\* الإصدار 1.18 أو أحدث (يمكنك التحقق باستخدام \`go version\`).  
\* \*\*Docker و Docker Compose:\*\* لتشغيل قاعدة بيانات PostgreSQL بسهولة. (اختياري إذا كان لديك PostgreSQL مثبتًا بالفعل).  
\* \*\*Git:\*\* لاستنساخ المستودع.

\*\*خطوات الإعداد والتشغيل:\*\*

1\.  \*\*استنساخ المستودع:\*\*  
    \`\`\`bash  
    git clone \<رابط-المستودع-الخاص-بك\>  
    cd my-article-app  
    \`\`\`

2\.  \*\*إعداد قاعدة البيانات (باستخدام Docker Compose \- موصى به):\*\*  
    \* يوجد ملف \`docker-compose.yml\` مُعد مسبقًا في جذر المشروع.  
        \`\`\`yaml  
        version: '3.8'  
        services:  
          postgres\_db:  
            image: postgres:13-alpine  
            container\_name: my\_article\_app\_db  
            environment:  
              POSTGRES\_USER: postgres      \# يمكنك تغيير هذا في ملف .env إذا أردت  
              POSTGRES\_PASSWORD: postgres  \# يمكنك تغيير هذا في ملف .env إذا أردت  
              POSTGRES\_DB: article\_db      \# يمكنك تغيير هذا في ملف .env إذا أردت  
            ports:  
              \- "5432:5432"  
            volumes:  
              \- postgres\_data:/var/lib/postgresql/data

        volumes:  
          postgres\_data:  
        \`\`\`  
    \* قم بتشغيل حاوية قاعدة البيانات:  
        \`\`\`bash  
        docker-compose up \-d  
        \`\`\`  
    \* \*ملاحظة: تأكد من أن سلسلة الاتصال في \`internal/database/gorm.go\` (متغير \`dsn\`) تتطابق مع إعدادات Docker Compose أو إعدادات PostgreSQL المحلية الخاصة بك. يفضل استخدام متغيرات البيئة لإدارة هذه الإعدادات.\*

3\.  \*\*تثبيت التبعيات (Go Modules):\*\*  
    \`\`\`bash  
    go mod tidy  
    \`\`\`

4\.  \*\*تشغيل التطبيق:\*\*  
    \`\`\`bash  
    go run ./cmd/api/main.go  
    \`\`\`  
    يفترض أن ترى رسالة تفيد بأن الخادم يعمل ويستمع على المنفذ \`3000\`.  
    \`مثال: 2024/05/28 19:00:00 Application is listening on port :3000\`

\#\# 📡 \*\*واجهات برمجة التطبيقات (API Endpoints)\*\*

يوفر التطبيق نقاط النهاية التالية لإدارة المؤلفين والمقالات عبر \`/api/v1\`:

\#\#\# \*\*1. المؤلفون (Authors)\*\*

| الطريقة (Method) | المسار (Path)             | الوصف                                  | جسم الطلب (Request Body \- مثال)                | استجابة ناجحة (Success Response \- مثال)                                                                 |  
| :---------------- | :------------------------ | :------------------------------------- | :--------------------------------------------- | :----------------------------------------------------------------------------------------------------- |  
| \`POST\`            | \`/authors\`                | إنشاء مؤلف جديد.                      | \`{"name": "علي حسن", "email": "ali@example.com"}\` | \`201 Created\` \- \`{"message": "تم إنشاء المؤلف بنجاح\!", "author": {"ID": 1, "name": "علي حسن", "email": "ali@example.com", "CreatedAt": "2024-05-28T19:00:00Z", ...}}\`          |  
| \`GET\`             | \`/authors\`                | جلب قائمة بجميع المؤلفين.             | (لا يوجد)                                     | \`200 OK\` \- \`\[{"ID": 1, ...}, {"ID": 2, ...}\]\`                                                            |  
| \`GET\`             | \`/authors/{id}\`           | جلب مؤلف محدد بواسطة الـ ID.          | (لا يوجد)                                     | \`200 OK\` \- \`{"ID": 1, "name": "علي حسن", "email": "ali@example.com", "Articles": \[...\]}\`                  |  
| \`PUT\`             | \`/authors/{id}\`           | تحديث بيانات مؤلف موجود.             | \`{"name": "علي حسن عبدالله", "email": "ali.h.a@example.com"}\` | \`200 OK\` \- \`{"message": "تم تحديث المؤلف بنجاح\!", "author": {"ID": 1, "name": "علي حسن عبدالله", ...}}\` |  
| \`DELETE\`          | \`/authors/{id}\`           | حذف مؤلف محدد بواسطة الـ ID.          | (لا يوجد)                                     | \`204 No Content\`                                                                                       |

\#\#\# \*\*2. المقالات (Articles)\*\*

| الطريقة (Method) | المسار (Path)              | الوصف                                     | جسم الطلب (Request Body \- مثال)                                  | استجابة ناجحة (Success Response \- مثال)                                                                                                |  
| :---------------- | :------------------------- | :---------------------------------------- | :--------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------ |  
| \`POST\`            | \`/articles\`                | إنشاء مقال جديد.                         | \`{"title": "مقدمة في Go", "content": "...", "author\_id": 1}\`      | \`201 Created\` \- \`{"message": "تم إنشاء المقال بنجاح\!", "article": {"ID": 1, "title": "مقدمة في Go", "Author": {"ID": 1, ...}}}\` |  
| \`GET\`             | \`/articles\`                | جلب قائمة بجميع المقالات (مع المؤلفين). | (لا يوجد)                                                        | \`200 OK\` \- \`\[{"ID": 1, "title": "...", "Author": {...}}, ...\]\`                                                                     |  
| \`GET\`             | \`/articles/{id}\`           | جلب مقال محدد بالـ ID (مع المؤلف).      | (لا يوجد)                                                        | \`200 OK\` \- \`{"ID": 1, "title": "مقدمة في Go", "content": "...", "Author": {"ID": 1, "name": "علي حسن", ...}}\`                      |  
| \`PUT\`             | \`/articles/{id}\`           | تحديث بيانات مقال موجود.                | \`{"title": "Go المتقدمة", "content": "...", "author\_id": 1}\`      | \`200 OK\` \- \`{"message": "تم تحديث المقال بنجاح\!", "article": {"ID": 1, "title": "Go المتقدمة", ...}}\`                               |  
| \`DELETE\`          | \`/articles/{id}\`           | حذف مقال محدد بواسطة الـ ID.             | (لا يوجد)                                                        | \`204 No Content\`                                                                                                                      |

\#\#\# \*\*3. التحقق من صحة الخادم (Health Check)\*\*

| الطريقة (Method) | المسار (Path) | الوصف                         |  
| :---------------- | :------------ | :----------------------------- |  
| \`GET\`             | \`/health\`     | التحقق من أن التطبيق يعمل. |

\*\*أمثلة استخدام \`curl\` لاختبار نقاط النهاية:\*\*

1\.  \*\*إنشاء مؤلف جديد:\*\*  
    \`\`\`bash  
    curl \-X POST \-H "Content-Type: application/json" \\  
         \-d '{"name": "فاطمة علي", "email": "fatima.ali@example.com"}' \\  
         http://localhost:3000/api/v1/authors  
    \`\`\`  
    \*(احفظ \`ID\` المؤلف من الاستجابة لاستخدامه لاحقاً)\*

2\.  \*\*إنشاء مقال جديد (افترض أن \`author\_id\` هو 1 من الخطوة السابقة):\*\*  
    \`\`\`bash  
    curl \-X POST \-H "Content-Type: application/json" \\  
         \-d '{"title": "أساسيات البرمجة بلغة Go", "content": "هذا المقال يشرح المفاهيم الأساسية...", "author\_id": 1}' \\  
         http://localhost:3000/api/v1/articles  
    \`\`\`

3\.  \*\*جلب جميع المقالات:\*\*  
    \`\`\`bash  
    curl http://localhost:3000/api/v1/articles  
    \`\`\`

4\.  \*\*جلب مقال محدد (افترض أن \`article\_id\` هو 1):\*\*  
    \`\`\`bash  
    curl http://localhost:3000/api/v1/articles/1  
    \`\`\`

\#\# 💡 \*\*تحسينات وتطويرات مستقبلية مقترحة\*\*

لإظهار قدرتك على التفكير المستقبلي وتطوير المشاريع، يمكنك ذكر بعض التحسينات الممكنة:

\* \*\*المصادقة والترخيص (Authentication & Authorization):\*\* إضافة نظام لتسجيل الدخول وحماية نقاط النهاية باستخدام JWT أو ما شابه (لزيادة أمان التطبيق، والتحكم في الوصول إلى الموارد، وتخصيص تجربة المستخدم).  
\* \*\*الترقيم والفرز والتصفية (Pagination, Sorting, Filtering):\*\* تحسين نقاط النهاية التي ترجع قوائم لدعم هذه الميزات، مما يجعل الـ API أكثر مرونة وقوة.  
\* \*\*الاختبارات (Testing):\*\* كتابة اختبارات الوحدات (Unit Tests) واختبارات التكامل (Integration Tests) لضمان جودة الكود واستقراره.  
\* \*\*التسجيل والمراقبة (Logging & Monitoring):\*\* دمج نظام تسجيل متقدم (مثل \`logrus\` أو \`zap\`) وأدوات مراقبة (مثل Prometheus و Grafana) لتتبع أداء التطبيق وتشخيص المشكلات.  
\* \*\*توثيق API تفاعلي (Interactive API Documentation):\*\* استخدام أدوات مثل Swagger/OpenAPI (Swaggo لـ Go) لإنشاء توثيق تفاعلي لواجهة برمجة التطبيقات يسهل على المطورين فهمها واستخدامها.  
\* \*\*التعامل مع الأخطاء بشكل أفضل (Enhanced Error Handling):\*\* توفير رموز وأوصاف أخطاء أكثر تفصيلاً وقياسية.  
\* \*\*استخدام متغيرات البيئة (Environment Variables):\*\* إدارة الإعدادات الحساسة مثل بيانات اعتماد قاعدة البيانات وسر JWT عبر متغيرات البيئة بدلاً من تضمينها مباشرة في الكود.

\#\# 🎯 \*\*كيف يساعدك هذا المشروع في سوق العمل؟\*\*

\* \*\*يعرض مهاراتك العملية:\*\* يثبت قدرتك على بناء تطبيق ويب كامل من البداية إلى النهاية باستخدام تقنيات حديثة.  
\* \*\*يبرز فهمك للهندسة البرمجية:\*\* تطبيق مبادئ مثل الهيكلية النظيفة وفصل الاهتمامات يظهر نضجك كمطور.  
\* \*\*يوضح خبرتك في التقنيات المطلوبة:\*\* Go، Fiber، GORM، PostgreSQL، Docker هي تقنيات شائعة ومطلوبة في سوق العمل.  
\* \*\*يشكل نقطة انطلاق للنقاش:\*\* يمكنك استخدامه في المقابلات الفنية لشرح قراراتك التصميمية، التحديات التي واجهتها، وكيف تغلبت عليها.  
\* \*\*قابل للتوسع:\*\* يمكنك البناء عليه وإضافة ميزات جديدة لإظهار قدرتك على التعلم والتطور المستمر.

\#\# 🤝 \*\*المساهمة\*\*

إذا كنت ترغب في المساهمة في تطوير هذا المشروع (حتى لو كان مشروعك الشخصي، يمكنك ذكر هذا كجزء من ممارسات التطوير الجيدة):

1\.  قم بعمل Fork للمستودع.  
2\.  أنشئ فرعًا جديدًا للميزة أو الإصلاح (\`git checkout \-b feature/AmazingFeature\`).  
3\.  قم بتنفيذ التغييرات الخاصة بك.  
4\.  قم بعمل Commit للتغييرات (\`git commit \-m 'Add some AmazingFeature'\`).  
5\.  قم بدفع التغييرات إلى الفرع (\`git push origin feature/AmazingFeature\`).  
6\.  افتح Pull Request.

\#\# 📄 \*\*الترخيص\*\*

هذا المشروع مرخص تحت رخصة MIT. (يمكنك اختيار الرخصة التي تناسبك).

